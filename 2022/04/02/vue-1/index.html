

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://gitee.com/li-il/pic_bed/raw/master/img/%E5%B1%B1_1.png">
  <link rel="icon" href="https://gitee.com/li-il/pic_bed/raw/master/img/%E5%B1%B1_1.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#7a8183">
  <meta name="author" content="LXR">
  <meta name="keywords" content="">
  
    <meta name="description" content="Vue2.0入门的第一课，包含【模板语法】、【数据绑定】、【数据代理】、【事件处理】、【计算属性】、【监视属性】、【渲染】、【内置指令】、【生命周期】等内容。">
<meta property="og:type" content="article">
<meta property="og:title" content="vue-1">
<meta property="og:url" content="http://example.com/2022/04/02/vue-1/index.html">
<meta property="og:site_name" content="秉烛夜游">
<meta property="og:description" content="Vue2.0入门的第一课，包含【模板语法】、【数据绑定】、【数据代理】、【事件处理】、【计算属性】、【监视属性】、【渲染】、【内置指令】、【生命周期】等内容。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/li-il/pic_bed/raw/master/img/20220301230133.jpeg">
<meta property="article:published_time" content="2022-04-02T07:15:24.917Z">
<meta property="article:modified_time" content="2022-04-02T07:21:44.002Z">
<meta property="article:author" content="LXR">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://gitee.com/li-il/pic_bed/raw/master/img/20220301230133.jpeg">
  
  
  <title>vue-1 - 秉烛夜游</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":80,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"https://www.baidu.com/","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Lumos.</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://gitee.com/li-il/pic_bed/raw/master/img/wallpaper%20(1).jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="vue-1">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-04-02 15:15" pubdate>
        2022年4月2日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      69k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      572 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">vue-1</h1>
            
            <div class="markdown-body">
              <p>说明：本文是基于全网最细尚硅谷天禹老师的vue2.0和vue3.0教程，具体资料可以点击下面的链接。</p>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1x0IjNeJ-V4gcPeEJIQ7unA">https://pan.baidu.com/s/1x0IjNeJ-V4gcPeEJIQ7unA</a><br>提取码：f5hy</p>
<hr>
<h1 id="1-初识vue"><a href="#1-初识vue" class="headerlink" title="1. 初识vue"></a>1. 初识vue</h1><ol>
<li><p>想让Vue工作，就必须创建一个<strong>Vue实例</strong>，且要传入一个配置对象；</p>
</li>
<li><p>root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法；</p>
</li>
<li><p>root容器里的代码被称为【Vue模板】；</p>
</li>
<li><p>Vue实例和容器是一一对应的；</p>
</li>
<li><p>真实开发中只有一个Vue实例，并且会配合着组件一起使用；</p>
</li>
<li><p><code>&#123;&#123;xxx&#125;&#125;</code>中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性；</p>
</li>
<li><p>一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新；<br> 注意区分：js表达式 和 js代码(语句)<br> 1.表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方：<br>             (1). <code>a</code><br>             (2). <code>a+b</code><br>             (3). <code>demo(1)</code><br>             (4). <code>x === y ? &#39;a&#39; : &#39;b&#39;</code><br> 2.js代码(语句)<br>             (1). <code>if()&#123;&#125;</code><br>             (2). <code>for()&#123;&#125;</code></p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></div></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>	&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>	&lt;title&gt;初识Vue&lt;/title&gt;<br>	&lt;!-- 引入Vue --&gt;<br>	&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body&gt;<br>	&lt;!-- 准备好一个vue容器 --&gt;<br>	&lt;div id=&quot;demo&quot;&gt;<br>		&lt;h1&gt;Hello，&#123;&#123;name.toUpperCase()&#125;&#125;，&#123;&#123;address&#125;&#125;&lt;/h1&gt;<br>	&lt;/div&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		//创建Vue实例<br>		new Vue(&#123;<br>			el: &#x27;#demo&#x27;, //el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串。<br>			data: &#123; //data中用于存储数据，数据供el所指定的容器去使用，值我们暂时先写成一个对象。<br>				name: &#x27;atguigu&#x27;,<br>				address: &#x27;北京&#x27;<br>			&#125;<br>		&#125;)<br><br>	&lt;/script&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li>
</ol>
<h1 id="2-vue模板语法"><a href="#2-vue模板语法" class="headerlink" title="2. vue模板语法"></a>2. vue模板语法</h1><p>Vue模板语法有2大类 ：</p>
<ol>
<li><p>插值语法：<br> 功能：用于解析标签体内容。<br> 写法：<code>&#123;&#123;xxx&#125;&#125;</code>，xxx是js表达式，且可以直接读取到data中的所有属性。</p>
</li>
<li><p>指令语法：<br> 功能：用于解析标签（包括：标签属性、标签体内容、绑定事件…..）。<br> 举例：<code>v-bind:href=&quot;xxx&quot;</code> 或  简写为 <code>:href=&quot;xxx&quot;</code>，xxx同样要写js表达式，<br>          且可以直接读取到data中的所有属性。<br> 备注：Vue中有很多的指令，且形式都是：v-????，此处我们只是拿v-bind举个例子。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;模板语法&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;插值语法&lt;/h1&gt;<br>			&lt;h3&gt;你好，&#123;&#123;name&#125;&#125;&lt;/h3&gt;<br><br>			&lt;hr/&gt;<br><br>			&lt;h1&gt;指令语法&lt;/h1&gt;<br>			&lt;!-- 完整写法 --&gt;<br>			&lt;a v-bind:href=&quot;school.url.toUpperCase()&quot; x=&quot;hello&quot;&gt;点我去&#123;&#123;school.name&#125;&#125;学习1&lt;/a&gt; <br>			&lt;!-- 简略写法 --&gt;<br>			&lt;a :href=&quot;school.url&quot; x=&quot;hello&quot;&gt;点我去&#123;&#123;school.name&#125;&#125;学习2&lt;/a&gt; <br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;!-- 阻止 vue 在启动时生成生产提示。 --&gt;<br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false <br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;jack&#x27;,<br>				school:&#123;<br>					name:&#x27;尚硅谷&#x27;,<br>					url:&#x27;http://www.atguigu.com&#x27;,<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li>
</ol>
<h1 id="3-数据绑定"><a href="#3-数据绑定" class="headerlink" title="3. 数据绑定"></a>3. 数据绑定</h1><p>Vue中有2种数据绑定的方式：</p>
<ol>
<li>单向绑定(v-bind)：数据只能从data流向页面。</li>
<li>双向绑定(v-model)：数据不仅能从data流向页面，还可以从页面流向data。<br>备注：<br>    1.双向绑定一般都应用在表单类元素上（如：input、select等）<br>    2.v-model:value 可以简写为 v-model，因为v-model默认收集的就是value值。</li>
</ol>
<p><strong>注意</strong>：在下面的代码笔记中显示出了两种写法，但是在浏览器上测试的时候需要注释掉其中一种。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;数据绑定&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 普通写法 --&gt;<br>			单向数据绑定：&lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;&lt;br/&gt;<br>			双向数据绑定：&lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt;&lt;br/&gt; <br><br>			&lt;!-- 简写 --&gt;<br>			单向数据绑定：&lt;input type=&quot;text&quot; :value=&quot;name&quot;&gt;&lt;br/&gt;<br>			双向数据绑定：&lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;&lt;br/&gt;<br><br>			&lt;!-- 如下代码是错误的，因为v-model只能应用在表单类元素（输入类元素）上 --&gt;<br>			&lt;!-- &lt;h2 v-model:x=&quot;name&quot;&gt;你好啊&lt;/h2&gt; --&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="4-el的两种写法"><a href="#4-el的两种写法" class="headerlink" title="4. el的两种写法"></a>4. el的两种写法</h1><p>data和el的两种写法：</p>
<ol>
<li>el有2种写法<br> (1). new Vue时候配置el属性。<br> (2). 先创建Vue实例，随后再通过<code>vm.$mount(&#39;#root&#39;)</code>指定el的值。</li>
<li>data有2种写法<br> (1).对象式<br> (2).函数式<br>  如何选择：目前哪种写法都可以，以后学习到组件时，data必须使用函数式，否则会报错。</li>
<li><strong>一个重要的原则</strong>：<br>         由Vue管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是Vue实例了。</li>
</ol>
<blockquote>
<ol>
<li><p>el的两种写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">const v = new Vue(&#123;<br>	el:&#x27;#root&#x27;, // 第一种写法<br>	data:&#123;<br>		name:&#x27;尚硅谷&#x27;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">// 第二种写法<br>v.$mount(&#x27;#root&#x27;)<br></code></pre></td></tr></table></figure>
</li>
<li><p>data的两种写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;<br>	el:&#x27;#root&#x27;,<br>	//data的第一种写法：对象式<br>	data:&#123;<br>		name:&#x27;尚硅谷&#x27;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;<br>	el:&#x27;#root&#x27;,<br>	//data的第二种写法：函数式<br>	data()&#123;<br>		console.log(this) //此处的this是Vue实例对象<br>		return&#123;<br>			name:&#x27;尚硅谷&#x27;<br>		&#125;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<p><strong>注意</strong>：在下面的代码笔记中显示出了两种写法，但是在浏览器上测试的时候需要注释掉其中一种。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- 完整代码 --&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;el与data的两种写法&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;你好，&#123;&#123;name&#125;&#125;&lt;/h1&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		//el的两种写法<br>		const v = new Vue(&#123;<br>			el:&#x27;#root&#x27;, //第一种写法<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;<br>		&#125;)<br>		console.log(v)<br>		v.$mount(&#x27;#root&#x27;) //第二种写法<br><br>		//data的两种写法<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			//data的第一种写法：对象式<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;<br><br>			//data的第二种写法：函数式<br>			data()&#123;<br>				console.log(&#x27;@@@&#x27;,this) //此处的this是Vue实例对象<br>				return&#123;<br>					name:&#x27;尚硅谷&#x27;<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="5-MVVM模型"><a href="#5-MVVM模型" class="headerlink" title="5. MVVM模型"></a>5. MVVM模型</h1><p>MVVM模型</p>
<ol>
<li><p>M：模型(Model) ：data中的数据</p>
</li>
<li><p>V：视图(View) ：模板代码</p>
</li>
<li><p>VM：视图模型(ViewModel)：Vue实例</p>
</li>
</ol>
<p>观察发现：</p>
<ol>
<li>data中所有的属性，最后都出现在了<strong>vm</strong>身上。</li>
<li>vm 身上所有的属性 及 Vue原型上所有属性，在Vue模板中都可以直接使用。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;理解MVVM&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br><br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h1&gt;<br>			&lt;h1&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h1&gt;<br>			&lt;h1&gt;测试一下1：&#123;&#123;1+1&#125;&#125;&lt;/h1&gt;<br>			&lt;h1&gt;测试一下2：&#123;&#123;$options&#125;&#125;&lt;/h1&gt;<br>			&lt;h1&gt;测试一下3：&#123;&#123;$emit&#125;&#125;&lt;/h1&gt;<br>			&lt;h1&gt;测试一下4：&#123;&#123;_c&#125;&#125;&lt;/h1&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				address:&#x27;北京&#x27;,<br>			&#125;<br>		&#125;)<br>		console.log(vm)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="6-数据代理"><a href="#6-数据代理" class="headerlink" title="6. 数据代理"></a>6. 数据代理</h1><h2 id="6-1-回顾Object-defineproperty方法"><a href="#6-1-回顾Object-defineproperty方法" class="headerlink" title="6.1 回顾Object.defineproperty方法"></a>6.1 回顾Object.defineproperty方法</h2><p>案例：向person中添加age属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;回顾Object.defineproperty方法&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;script type=&quot;text/javascript&quot; &gt;<br>			let number = 18<br>			let person = &#123;<br>				name:&#x27;张三&#x27;,<br>				sex:&#x27;男&#x27;,<br>			&#125;<br><br>			Object.defineProperty(person,&#x27;age&#x27;,&#123;<br>				// value:18,<br>				// enumerable:true, //控制属性是否可以枚举，默认值是false<br>				// writable:true, //控制属性是否可以被修改，默认值是false<br>				// configurable:true //控制属性是否可以被删除，默认值是false<br><br>				//当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值<br>				get()&#123;<br>					console.log(&#x27;有人读取age属性了&#x27;)<br>					return number<br>				&#125;,<br><br>				//当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值<br>				set(value)&#123;<br>					console.log(&#x27;有人修改了age属性，且值是&#x27;,value)<br>					number = value<br>				&#125;<br><br>			&#125;)<br>			console.log(person)<br>		&lt;/script&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="6-2-何为数据代理"><a href="#6-2-何为数据代理" class="headerlink" title="6.2 何为数据代理"></a>6.2 何为数据代理</h2><p>数据代理：通过一个对象代理对另一个对象中属性的操作（读&#x2F;写）</p>
<h2 id="6-3-vue中的数据代理"><a href="#6-3-vue中的数据代理" class="headerlink" title="6.3 vue中的数据代理"></a>6.3 vue中的数据代理</h2><ol>
<li>Vue中的数据代理：<br>      通过vm对象来代理data对象中属性的操作（读&#x2F;写）</li>
<li>Vue中数据代理的好处：<br>      更加方便的操作data中的数据</li>
<li>基本原理：<br>     通过<code>Object.defineProperty()</code>把data对象中所有属性添加到vm上。<br>     为每一个添加到vm上的属性，都指定一个getter&#x2F;setter。<br>     在getter&#x2F;setter内部去操作（读&#x2F;写）data中对应的属性。</li>
</ol>
<p>通过下面的代码理解：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;Vue中的数据代理&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				address:&#x27;宏福科技园&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220319113623.png" srcset="/img/loading.gif" lazyload alt="数据代理图示"></p>
<h1 id="7-事件处理"><a href="#7-事件处理" class="headerlink" title="7. 事件处理"></a>7. 事件处理</h1><h2 id="7-1-事件的基本使用"><a href="#7-1-事件的基本使用" class="headerlink" title="7.1 事件的基本使用"></a>7.1 事件的基本使用</h2><p>事件的基本使用：</p>
<ol>
<li>使用v-on:xxx 或 @xxx 绑定事件，其中xxx是事件名；</li>
<li>事件的回调需要配置在methods对象中，最终会在vm上；</li>
<li>methods中配置的函数，<strong>不要用箭头函数</strong>！否则this就不是vm了，而是向外找；</li>
<li>methods中配置的函数，都是被Vue所管理的函数，this的指向是 vm 或 组件实例对象 ；</li>
<li><code>@click=&quot;demo&quot;</code> 和 <code>@click=&quot;demo($event)&quot;</code> 效果一致，但后者可以传参；</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;事件的基本使用&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- &lt;button v-on:click=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt; --&gt;<br>			&lt;button @click=&quot;showInfo1&quot;&gt;点我提示信息1（不传参）&lt;/button&gt;<br>			&lt;button @click=&quot;showInfo2($event,66)&quot;&gt;点我提示信息2（传参）&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			methods:&#123;<br>				showInfo1(event)&#123;<br>					// console.log(event) // 这里输出的是Point、erEvent事件对象<br>					// console.log(event.target.innerText)  // 这里输出的是“点我提示信息1（不传参）”<br>					// console.log(this) //此处的this是vm<br>					alert(&#x27;同学你好！&#x27;)<br>				&#125;,<br>				showInfo2(event,number)&#123;<br>					console.log(event,number)<br>					// console.log(event.target.innerText)<br>					// console.log(this) //此处的this是vm<br>					alert(&#x27;同学你好！！&#x27;)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="7-2-事件修饰符"><a href="#7-2-事件修饰符" class="headerlink" title="7.2 事件修饰符"></a>7.2 事件修饰符</h2><p><strong>注意</strong>：首先需要有html事件冒泡的基础知识。</p>
<p>vue中的事件修饰符：</p>
<ol>
<li>prevent：阻止默认事件（常用）；</li>
<li>stop：阻止事件冒泡（常用）；</li>
<li>once：事件只触发一次（常用）；</li>
<li>capture：使用事件的捕获模式；</li>
<li>self：只有event.target是当前操作的元素时才触发事件；</li>
<li>passive：事件的默认行为立即执行，无需等待事件回调执行完毕；</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;事件修饰符&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>		&lt;style&gt;<br>			*&#123;<br>				margin-top: 20px;<br>			&#125;<br>			.demo1&#123;<br>				height: 50px;<br>				background-color: skyblue;<br>			&#125;<br>			.box1&#123;<br>				padding: 5px;<br>				background-color: skyblue;<br>			&#125;<br>			.box2&#123;<br>				padding: 5px;<br>				background-color: orange;<br>			&#125;<br>			.list&#123;<br>				width: 200px;<br>				height: 200px;<br>				background-color: peru;<br>				overflow: auto;<br>			&#125;<br>			li&#123;<br>				height: 100px;<br>			&#125;<br>		&lt;/style&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;欢迎来到&#123;&#123;name&#125;&#125;学习&lt;/h2&gt;<br>			&lt;!-- 阻止默认事件（常用） --&gt;<br>			&lt;a href=&quot;http://www.atguigu.com&quot; @click.prevent=&quot;showInfo&quot;&gt;点我提示信息&lt;/a&gt;<br><br>			&lt;!-- 阻止事件冒泡（常用） --&gt;<br>			&lt;div class=&quot;demo1&quot; @click=&quot;showInfo&quot;&gt;<br>				&lt;button @click.stop=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;<br>				&lt;!-- 修饰符可以连续写，例如此处要阻止事件冒泡，还要阻止页面跳转的默认事件 --&gt;<br>				&lt;!-- &lt;a href=&quot;http://www.atguigu.com&quot; @click.prevent.stop=&quot;showInfo&quot;&gt;点我提示信息&lt;/a&gt; --&gt;<br>			&lt;/div&gt;<br><br>			&lt;!-- 事件只触发一次（常用） --&gt;<br>			&lt;button @click.once=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;<br><br>			&lt;!-- 使用事件的捕获模式 --&gt;<br>			&lt;div class=&quot;box1&quot; @click.capture=&quot;showMsg(1)&quot;&gt;<br>				div1<br>				&lt;div class=&quot;box2&quot; @click=&quot;showMsg(2)&quot;&gt;<br>					div2<br>				&lt;/div&gt;<br>			&lt;/div&gt;<br><br>			&lt;!-- 只有event.target是当前操作的元素时才触发事件； --&gt;<br>			&lt;div class=&quot;demo1&quot; @click.self=&quot;showInfo&quot;&gt;<br>				&lt;button @click=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;<br>			&lt;/div&gt;<br><br>			&lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕； --&gt;<br>			&lt;ul @wheel.passive=&quot;demo&quot; class=&quot;list&quot;&gt;<br>				&lt;li&gt;1&lt;/li&gt;<br>				&lt;li&gt;2&lt;/li&gt;<br>				&lt;li&gt;3&lt;/li&gt;<br>				&lt;li&gt;4&lt;/li&gt;<br>			&lt;/ul&gt;<br><br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;,<br>			methods:&#123;<br>				showInfo(e)&#123;<br>					alert(&#x27;同学你好！&#x27;)<br>					// console.log(e.target)<br>				&#125;,<br>				showMsg(msg)&#123;<br>					console.log(msg)<br>				&#125;,<br>				demo()&#123;<br>					for (let i = 0; i &lt; 100000; i++) &#123;<br>						console.log(&#x27;#&#x27;)<br>					&#125;<br>					console.log(&#x27;累坏了&#x27;)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="7-3-键盘事件"><a href="#7-3-键盘事件" class="headerlink" title="7.3 键盘事件"></a>7.3 键盘事件</h2><ol>
<li>Vue中常用的按键别名：<br>           回车 &#x3D;&gt; enter<br>      删除 &#x3D;&gt; delete (捕获“删除”和“退格”键)<br>      退出 &#x3D;&gt; esc<br>      空格 &#x3D;&gt; space<br>      换行 &#x3D;&gt; tab (特殊，必须配合keydown去使用)<br>      上 &#x3D;&gt; up<br>      下 &#x3D;&gt; down<br>      左 &#x3D;&gt; left<br>      右 &#x3D;&gt; right</li>
<li>Vue未提供别名的按键，可以使用按键原始的key值去绑定，但注意要转为kebab-case（短横线命名）</li>
<li>系统修饰键（用法特殊）：ctrl、alt、shift、meta<br>  (1). 配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发。<br> (2). 配合keydown使用：正常触发事件。</li>
<li>也可以使用keyCode去指定具体的按键（不推荐），因为在不同的系统下有些按键的keyCode可能不同。</li>
<li>Vue.config.keyCodes.自定义键名 &#x3D; 键码，可以去定制按键别名</li>
</ol>
<blockquote>
<p>将下面的第12行代码改写成：</p>
<p><code>&lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keyup.enter=&quot;showInfo&quot;&gt;</code></p>
<p>则会发现在输入框中输入字符后，点击回车键，就会log出所输入的内容。</p>
<hr>
<p>将下面的第12行代码改写成：</p>
<p><code>&lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.ctrl=&quot;showInfo&quot;&gt;</code></p>
<p>则会发现在输入框中输入字符后，点击ctrl，就会log出所输入的内容。</p>
<hr>
<p>将下面的第12行代码改写成：</p>
<p><code>&lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keyup.ctrl.y=&quot;showInfo&quot;&gt;</code></p>
<p>则会发现在输入框中输入字符后，同时点击ctrl和y，就会log出所输入的内容。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- 代码的最终写法： --&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;键盘事件&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;欢迎来到&#123;&#123;name&#125;&#125;学习&lt;/h2&gt;<br>			&lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.huiche=&quot;showInfo&quot;&gt;<br>			&lt;!-- 注意此处的showInfo并不是方法的写法 --&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		Vue.config.keyCodes.huiche = 13 //定义了一个别名按键<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;,<br>			methods: &#123;<br>				showInfo(e)&#123;<br>					// console.log(e.key,e.keyCode)<br>					console.log(e.target.value)<br>				&#125;<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h1 id="8-计算属性"><a href="#8-计算属性" class="headerlink" title="8. 计算属性"></a>8. 计算属性</h1><h2 id="8-1-姓名案例-插值语法实现"><a href="#8-1-姓名案例-插值语法实现" class="headerlink" title="8.1 姓名案例_插值语法实现"></a>8.1 姓名案例_插值语法实现</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;姓名案例_插值语法实现&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			全名：&lt;span&gt;&#123;&#123;firstName&#125;&#125;-&#123;&#123;lastName&#125;&#125;&lt;/span&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				firstName:&#x27;张&#x27;,<br>				lastName:&#x27;三&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="8-2-姓名案例-methods实现"><a href="#8-2-姓名案例-methods实现" class="headerlink" title="8.2 姓名案例_methods实现"></a>8.2 姓名案例_methods实现</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;姓名案例_methods实现&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			全名：&lt;span&gt;&#123;&#123;fullName()&#125;&#125;&lt;/span&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				firstName:&#x27;张&#x27;,<br>				lastName:&#x27;三&#x27;<br>			&#125;,<br>			methods: &#123;<br>				fullName()&#123;<br>					console.log(&#x27;@---fullName&#x27;)<br>					return this.firstName + &#x27;-&#x27; + this.lastName<br>				&#125;<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>data中的数据，只要有任一变化，就会<strong>重新解析模板</strong>。属性会重新检查，插值语法里面的方法也会重新调用。</p>
<h2 id="8-3-姓名案例-计算属性实现"><a href="#8-3-姓名案例-计算属性实现" class="headerlink" title="8.3 姓名案例_计算属性实现"></a>8.3 姓名案例_计算属性实现</h2><p>计算属性：</p>
<ol>
<li>定义：要用的属性不存在，要通过已有属性计算得来。</li>
<li>原理：底层借助了Objcet.defineproperty方法提供的getter和setter。</li>
<li>get函数什么时候执行？<br>  (1). 初次读取时会执行一次。<br> (2). 当依赖的数据发生改变时会被再次调用。</li>
<li>优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便。</li>
<li>备注：<br> (1). 计算属性最终会出现在vm上，直接读取使用即可。<br> (2). 如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的<br> 数据发生改变。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;姓名案例_计算属性实现&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			测试：&lt;input type=&quot;text&quot; v-model=&quot;x&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			全名：&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				firstName:&#x27;张&#x27;,<br>				lastName:&#x27;三&#x27;,<br>				x:&#x27;你好&#x27;<br>			&#125;,<br>			computed:&#123;<br>				fullName:&#123;<br>					// get有什么作用？当有人读取fullName时，get就会被调用，且返回值就作为fullName的值<br>					get()&#123;<br>						// console.log(&#x27;get被调用了&#x27;) // 可以log查看get什么时候被调用<br>						// console.log(this) //此处的this是vm<br>						return this.firstName + &#x27;-&#x27; + this.lastName<br>					&#125;,<br>					// set什么时候调用? 当fullName被修改时。<br>					set(value)&#123;<br>						console.log(&#x27;set&#x27;,value)<br>						const arr = value.split(&#x27;-&#x27;)<br>						this.firstName = arr[0]<br>						this.lastName = arr[1]<br>					&#125;<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="8-4-姓名案例-计算属性简写"><a href="#8-4-姓名案例-计算属性简写" class="headerlink" title="8.4 姓名案例_计算属性简写"></a>8.4 姓名案例_计算属性简写</h2><p>有时候如果只展示属性但是不需要修改属性（只读不写），不需要set，就可以使用简写方式。</p>
<blockquote>
<p>完整方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">computed:&#123;<br>	fullName:&#123;<br>		get()&#123;<br>			console.log(&#x27;get被调用了&#x27;)<br>			return this.firstName + &#x27;-&#x27; + this.lastName<br>		&#125;,<br>		set(value)&#123;<br>			console.log(&#x27;set&#x27;,value)<br>			const arr = value.split(&#x27;-&#x27;)<br>			this.firstName = arr[0]<br>			this.lastName = arr[1]<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>简写方式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">computed:&#123;<br>	fullName()&#123;<br>		console.log(&#x27;get被调用了&#x27;)<br>		return this.firstName + &#x27;-&#x27; + this.lastName<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>


</blockquote>
<h1 id="9-监视属性"><a href="#9-监视属性" class="headerlink" title="9. 监视属性"></a>9. 监视属性</h1><p>vscode插件推荐</p>
<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220319142933.png" srcset="/img/loading.gif" lazyload alt="image-20220319142933358"></p>
<h2 id="9-1-天气案例"><a href="#9-1-天气案例" class="headerlink" title="9.1 天气案例"></a>9.1 天气案例</h2><p>需求：点击下面的按钮实现今天天气是炎热还是凉爽的切换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;天气案例&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;今天天气很&#123;&#123;info&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;changeWeather&quot;&gt;切换天气&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				isHot:true,<br>			&#125;,<br>			computed:&#123;<br>				info()&#123;<br>					return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				changeWeather()&#123;<br>					this.isHot = !this.isHot<br>				&#125;<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>可以使用一些简单的写法，直接写在@click事件里面，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">绑定事件的时候：可以写一些简单的语句，例如下面的写法：<br>&lt;button @click=&quot;isHot = !isHot&quot;&gt;切换天气&lt;/button&gt;<br></code></pre></td></tr></table></figure>

<p>注意此处可以直接从isHot里面拿值，所以不用this。</p>
<p>而完整写法由于需要从vue的实例对象里面拿到isHot，所以需要用到this。</p>
</blockquote>
<h2 id="9-2-天气案例-监视属性"><a href="#9-2-天气案例-监视属性" class="headerlink" title="9.2 天气案例_监视属性"></a>9.2 天气案例_监视属性</h2><p>监视属性watch：</p>
<ol>
<li>当被监视的属性变化时, 回调函数自动调用, 进行相关操作</li>
<li>监视的属性必须存在，才能进行监视！！</li>
<li>监视的两种写法：<br> (1).new Vue时传入watch配置<br> (2).通过vm.$watch监视</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;天气案例_监视属性&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;今天天气很&#123;&#123;info&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;isHot = !isHot&quot;&gt;切换天气&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				isHot:true,<br>			&#125;,<br>			computed:&#123;<br>				info()&#123;<br>					return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;<br>				&#125;<br>			&#125;,<br>			watch:&#123;<br>				// 监视属性的第一种方式<br>				isHot:&#123;<br>					immediate:true, //初始化时让handler调用一下<br>					//handler什么时候调用？当isHot发生改变时。<br>					handler(newValue,oldValue)&#123;<br>						console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>					&#125;<br>				&#125;<br>			&#125;<br>		&#125;)<br>		// 监视属性的第二种方式<br>		vm.$watch(&#x27;isHot&#x27;,&#123;<br>			immediate:true,<br>			handler(newValue,oldValue)&#123;<br>				console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br>		<br></code></pre></td></tr></table></figure>

<h2 id="9-3-深度监视"><a href="#9-3-深度监视" class="headerlink" title="9.3 深度监视"></a>9.3 深度监视</h2><p>深度监视：<br>        (1).Vue中的watch默认不监测对象内部值的改变（一层）。<br>        (2).配置deep:true可以监测对象内部值改变（多层）。<br>备注：<br>        (1).Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以。<br>        (2).使用watch时根据数据的具体结构，决定是否采用深度监视。</p>
<blockquote>
<p>watch可以检测多级结构中某属性的变化，也可以监视所有属性的变化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">//监视多级结构中某个属性的变化<br>&#x27;numbers.a&#x27;:&#123;<br>	handler()&#123;<br>		console.log(&#x27;a被改变了&#x27;)<br>	&#125;<br>&#125;<br>//监视多级结构中所有属性的变化<br>numbers:&#123;<br>	deep:true,<br>	handler()&#123;<br>		console.log(&#x27;numbers改变了&#x27;)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>此处需要注意一个问题：watch中监视的某个属性应该是字符串形式的。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;天气案例_深度监视&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;今天天气很&#123;&#123;info&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;changeWeather&quot;&gt;切换天气&lt;/button&gt;<br>			&lt;hr/&gt;<br>			&lt;h3&gt;a的值是:&#123;&#123;numbers.a&#125;&#125;&lt;/h3&gt;<br>			&lt;button @click=&quot;numbers.a++&quot;&gt;点我让a+1&lt;/button&gt;<br><br>			&lt;button @click=&quot;numbers = &#123;a:666,b:888&#125;&quot;&gt;彻底替换掉numbers&lt;/button&gt;<br>			&#123;&#123;numbers.c.d.e&#125;&#125;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				isHot:true,<br>				numbers:&#123;<br>					a:1,<br>					b:1,<br>					c:&#123;<br>						d:&#123;<br>							e:100<br>						&#125;<br>					&#125;<br>				&#125;<br>			&#125;,<br>			computed:&#123;<br>				info()&#123;<br>					return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				changeWeather()&#123;<br>					this.isHot = !this.isHot<br>				&#125;<br>			&#125;,<br>			watch:&#123;<br>				isHot:&#123;<br>					handler(newValue,oldValue)&#123;<br>						console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>					&#125;<br>				&#125;,<br>				// 下面两种，共存会报错，需要注释其中一种<br>				//监视多级结构中某个属性的变化<br>				&#x27;numbers.a&#x27;:&#123;<br>					handler()&#123;<br>						console.log(&#x27;a被改变了&#x27;)<br>					&#125;<br>				&#125;<br>				//监视多级结构中所有属性的变化<br>				numbers:&#123;<br>					deep:true,<br>					handler()&#123;<br>						console.log(&#x27;numbers改变了&#x27;)<br>					&#125;<br>				&#125;<br>			&#125;<br>		&#125;)<br><br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="9-4-天气案例-监视属性-简写"><a href="#9-4-天气案例-监视属性-简写" class="headerlink" title="9.4 天气案例 _ 监视属性 _ 简写"></a>9.4 天气案例 _ 监视属性 _ 简写</h2><blockquote>
<ol>
<li><p>vm监视的简写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">watch:&#123;<br>	// 正常写法<br>	isHot:&#123;<br>		// immediate:true, //初始化时让handler调用一下<br>		// deep:true,//深度监视<br>		handler(newValue,oldValue)&#123;<br>			console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>		&#125;<br>	&#125;,<br>	// 简写 当配置对象里面只有handler时可以简写，但是不能开启深度监视<br>	isHot(newValue,oldValue)&#123;<br>		console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue,this)<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>


</li>
<li><p>第二周</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">// 正常写法<br>vm.$watch(&#x27;isHot&#x27;,&#123;<br>	immediate:true, //初始化时让handler调用一下<br>	deep:true,//深度监视<br>	handler(newValue,oldValue)&#123;<br>		console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>	&#125;<br>&#125;)<br>// 简写<br>vm.$watch(&#x27;isHot&#x27;,function(newValue,oldValue)&#123;<br>	console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue,this)<br>&#125;)<br></code></pre></td></tr></table></figure></li>
</ol>
<p>注意：</p>
<p>2.2的方式只能写成标准函数，不能写成箭头函数，否则会造成this指向问题。</p>
<p>如果是标准函数，this指的是vue；如果是箭头函数，this指的是window。</p>
<p>所有被vue管理的函数都不能写成箭头函数。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- 完整代码 --&gt;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;天气案例_监视属性_简写&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;今天天气很&#123;&#123;info&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;changeWeather&quot;&gt;切换天气&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				isHot:true,<br>			&#125;,<br>			computed:&#123;<br>				info()&#123;<br>					return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				changeWeather()&#123;<br>					this.isHot = !this.isHot<br>				&#125;<br>			&#125;,<br>			watch:&#123;<br>				//正常写法<br>				/* isHot:&#123;<br>					// immediate:true, //初始化时让handler调用一下<br>					// deep:true,//深度监视<br>					handler(newValue,oldValue)&#123;<br>						console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>					&#125;<br>				&#125;, */<br>				// 简写 当配置对象里面只有handler时可以简写，但是不能开启深度监视<br>				/* isHot(newValue,oldValue)&#123;<br>					console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue,this)<br>				&#125; */<br>			&#125;<br>		&#125;)<br><br>		//正常写法<br>		/* vm.$watch(&#x27;isHot&#x27;,&#123;<br>			immediate:true, //初始化时让handler调用一下<br>			deep:true,//深度监视<br>			handler(newValue,oldValue)&#123;<br>				console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue)<br>			&#125;<br>		&#125;) */<br><br>		//简写<br>		/* vm.$watch(&#x27;isHot&#x27;,function(newValue,oldValue)&#123;<br>			console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue,this)<br>		&#125;) */<br><br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="9-5-computed和watch之间的区别"><a href="#9-5-computed和watch之间的区别" class="headerlink" title="9.5 computed和watch之间的区别"></a>9.5 computed和watch之间的区别</h2><p>computed和watch之间的区别：</p>
<ol>
<li>computed能完成的功能，watch都可以完成。</li>
<li>watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作。</li>
</ol>
<p>两个重要的小原则：</p>
<ol>
<li>所被Vue管理的函数，写成普通函数，这样this的指向才是vm 或 组件实例对象</li>
<li>所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调<br>函数），写成箭头函数，这样this的指向才是vm 或 组件实例对象。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;姓名案例_watch实现&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			名：&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>			全名：&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br/&gt;&lt;br/&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				firstName:&#x27;张&#x27;,<br>				lastName:&#x27;三&#x27;,<br>				fullName:&#x27;张-三&#x27;<br>			&#125;,<br>			watch:&#123;<br>				firstName(val)&#123;<br>					setTimeout(()=&gt;&#123;<br>						console.log(this)<br>						this.fullName = val + &#x27;-&#x27; + this.lastName<br>					&#125;,1000);<br>				&#125;,<br>				lastName(val)&#123;<br>					this.fullName = this.firstName + &#x27;-&#x27; + val<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>



<h1 id="10-绑定样式"><a href="#10-绑定样式" class="headerlink" title="10. 绑定样式"></a>10. 绑定样式</h1><ol>
<li>class样式<br>     写法:class&#x3D;”xxx” xxx可以是字符串、对象、数组。<br>             字符串写法适用于：类名不确定，要动态获取。<br>             对象写法适用于：要绑定多个样式，个数不确定，名字也不确定。<br>             数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用。</li>
<li>style样式<br>     :style&#x3D;”{fontSize: xxx}”其中xxx是动态值。<br>     :style&#x3D;”[a,b]”其中a、b是样式对象。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;绑定样式&lt;/title&gt;<br>		&lt;style&gt;<br>			.basic&#123;<br>				width: 400px;<br>				height: 100px;<br>				border: 1px solid black;<br>			&#125;<br>			<br>			.happy&#123;<br>				border: 4px solid red;;<br>				background-color: rgba(255, 255, 0, 0.644);<br>				background: linear-gradient(30deg,yellow,pink,orange,yellow);<br>			&#125;<br>			.sad&#123;<br>				border: 4px dashed rgb(2, 197, 2);<br>				background-color: gray;<br>			&#125;<br>			.normal&#123;<br>				background-color: skyblue;<br>			&#125;<br><br>			.atguigu1&#123;<br>				background-color: yellowgreen;<br>			&#125;<br>			.atguigu2&#123;<br>				font-size: 30px;<br>				text-shadow:2px 2px 10px red;<br>			&#125;<br>			.atguigu3&#123;<br>				border-radius: 20px;<br>			&#125;<br>		&lt;/style&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 绑定class样式--字符串写法，适用于：样式的类名不确定，需要动态指定 --&gt;<br>			&lt;div class=&quot;basic&quot; :class=&quot;mood&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br/&gt;&lt;br/&gt;<br><br>			&lt;!-- 绑定class样式--数组写法，适用于：要绑定的样式个数不确定、名字也不确定 --&gt;<br>			&lt;div class=&quot;basic&quot; :class=&quot;classArr&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br/&gt;&lt;br/&gt;<br><br>			&lt;!-- 绑定class样式--对象写法，适用于：要绑定的样式个数确定、名字也确定，但要动态决定用不用 --&gt;<br>			&lt;div class=&quot;basic&quot; :class=&quot;classObj&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br/&gt;&lt;br/&gt;<br><br>			&lt;!-- 绑定style样式--对象写法 --&gt;<br>			&lt;div class=&quot;basic&quot; :style=&quot;styleObj&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br/&gt;&lt;br/&gt;<br>			&lt;!-- 绑定style样式--对象写法 --&gt;<br>			&lt;div class=&quot;basic&quot; :style=&quot;[styleObj,styleObj2]&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br/&gt;&lt;br/&gt;<br>			&lt;!-- 绑定style样式--数组写法 --&gt;<br>			&lt;div class=&quot;basic&quot; :style=&quot;styleArr&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br>		<br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				mood:&#x27;normal&#x27;,<br>				classArr:[&#x27;atguigu1&#x27;,&#x27;atguigu2&#x27;,&#x27;atguigu3&#x27;],<br>				classObj:&#123;<br>					atguigu1:false,<br>					atguigu2:false,<br>				&#125;,<br>				styleObj:&#123;<br>					fontSize: &#x27;40px&#x27;,<br>					color:&#x27;red&#x27;,<br>				&#125;,<br>				styleObj2:&#123;<br>					backgroundColor:&#x27;orange&#x27;<br>				&#125;,<br>				styleArr:[<br>					&#123;<br>						fontSize: &#x27;40px&#x27;,<br>						color:&#x27;blue&#x27;,<br>					&#125;,<br>					&#123;<br>						backgroundColor:&#x27;gray&#x27;<br>					&#125;<br>				]<br>			&#125;,<br>			methods: &#123;<br>				changeMood()&#123;<br>					const arr = [&#x27;happy&#x27;,&#x27;sad&#x27;,&#x27;normal&#x27;]<br>					const index = Math.floor(Math.random()*3)<br>					this.mood = arr[index]<br>				&#125;<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>	<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="11-条件渲染"><a href="#11-条件渲染" class="headerlink" title="11. 条件渲染"></a>11. 条件渲染</h1><p>条件渲染：</p>
<ol>
<li><p>v-if<br>  写法：<br>      (1).v-if&#x3D;”表达式”<br>      (2).v-else-if&#x3D;”表达式”<br>      (3).v-else&#x3D;”表达式”<br> 适用于：切换频率较低的场景。<br> 特点：不展示的DOM元素直接被移除。<br> 注意：v-if可以和:v-else-if、v-else一起使用，但要求结构不能被“打断”。</p>
</li>
<li><p>v-show<br>  写法：v-show&#x3D;”表达式”<br> 适用于：切换频率较高的场景。<br> 特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</p>
</li>
<li><p>备注：使用v-if的时，元素可能无法获取到，而使用v-show一定可以获取到。</p>
</li>
<li><p>template的使用：</p>
<p>如果需要满足条件的同时展现多个标签，又不希望有div来破坏现在的结构层次，可以使用template，渲染的时候不会出现template。</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;条件渲染&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;<br>			<br>			&lt;!-- 使用v-show做条件渲染 --&gt;<br>			&lt;h2 v-show=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2 v-show=&quot;1 === 1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br><br>			&lt;!-- 使用v-if做条件渲染 --&gt;<br>			&lt;h2 v-if=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2 v-if=&quot;1 === 1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br><br>			&lt;!-- v-else和v-else-if --&gt;<br>			&lt;div v-if=&quot;n === 1&quot;&gt;Angular&lt;/div&gt;<br>			&lt;div v-else-if=&quot;n === 2&quot;&gt;React&lt;/div&gt;<br>			&lt;div v-else-if=&quot;n === 3&quot;&gt;Vue&lt;/div&gt;<br>			&lt;div v-else&gt;哈哈&lt;/div&gt;<br><br>			&lt;!-- v-if与template的配合使用 --&gt;<br>			&lt;template v-if=&quot;n === 1&quot;&gt;<br>				&lt;h2&gt;你好&lt;/h2&gt;<br>				&lt;h2&gt;尚硅谷&lt;/h2&gt;<br>				&lt;h2&gt;北京&lt;/h2&gt;<br>			&lt;/template&gt;<br><br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				n:0<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="12-列表渲染"><a href="#12-列表渲染" class="headerlink" title="12. 列表渲染"></a>12. 列表渲染</h1><h2 id="12-1-基本列表"><a href="#12-1-基本列表" class="headerlink" title="12.1 基本列表"></a>12.1 基本列表</h2><p>主要是v-for指令的使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;基本列表&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 遍历数组 --&gt;<br>			&lt;h2&gt;人员列表（遍历数组）&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;!-- key不能重复，是每个对象的唯一标识 --&gt;<br>				&lt;li v-for=&quot;(p,index) of persons&quot; :key=&quot;p.id&quot;&gt;<br>					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;index&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br><br>			&lt;!-- 遍历对象 --&gt;<br>			&lt;h2&gt;汽车信息（遍历对象）&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(value,key) of car&quot; :key=&quot;key&quot;&gt;<br>					&#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br><br>			&lt;!-- 遍历字符串 --&gt;<br>			&lt;h2&gt;测试遍历字符串（用得少）&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(char,index) of str&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;char&#125;&#125;-&#123;&#123;index&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>			<br>			&lt;!-- 遍历指定次数 --&gt;<br>			&lt;h2&gt;测试遍历指定次数（用得少）&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(number,index) of 5&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;index&#125;&#125;-&#123;&#123;number&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br><br>		&lt;script type=&quot;text/javascript&quot;&gt;<br>			Vue.config.productionTip = false<br>			<br>			new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;张三&#x27;,age:18&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;李四&#x27;,age:19&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;王五&#x27;,age:20&#125;<br>					],<br>					car:&#123;<br>						name:&#x27;奥迪A8&#x27;,<br>						price:&#x27;70万&#x27;,<br>						color:&#x27;黑色&#x27;<br>					&#125;,<br>					str:&#x27;hello&#x27;<br>				&#125;<br>			&#125;)<br>		&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-2-key的原理"><a href="#12-2-key的原理" class="headerlink" title="12.2 key的原理"></a>12.2 key的原理</h2><ol>
<li><p>虚拟DOM中key的作用：<br>         key是虚拟DOM对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新<br> 的虚拟DOM】,<br>         随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</p>
</li>
<li><p>对比规则：</p>
<ol>
<li><p>旧虚拟DOM中找到了与新虚拟DOM相同的key：<br>                    ①.若虚拟DOM中内容没变, 直接使用之前的真实DOM。<br>                             ②.若虚拟DOM中内容变了, 则生成新的真实DOM，随后【替换】掉页面中之前的真实DOM。</p>
</li>
<li><p>旧虚拟DOM中未找到与新虚拟DOM相同的key，创建新的真实DOM，随后渲染到到页面。</p>
</li>
</ol>
</li>
<li><p>用index作为key可能会引发的问题：</p>
<ol>
<li><p>若对数据进行：逆序添加、逆序删除 等破坏顺序操作:</p>
<p>会产生没有必要的真实DOM更新 &#x3D;&#x3D;&gt; 界面效果没问题, 但效率低。</p>
</li>
<li><p>如果结构中还包含输入类的DOM：</p>
<p>会产生错误DOM更新 &#x3D;&#x3D;&gt; 界面有问题。</p>
</li>
</ol>
</li>
<li><p>开发中如何选择key?:</p>
<div class="code-wrapper"><pre><code class="hljs">         1. 最好使用每条数据的唯一标识作为key, 比如id、手机号、身份证号、学号
等唯一值。
         2. 如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表
            用于展示，使用index作为key是没有问题的。
</code></pre></div>
</li>
</ol>
<p>图解如下：</p>
<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220319161356.png" srcset="/img/loading.gif" lazyload alt="遍历列表时key的作用"></p>
<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220319161428.png" srcset="/img/loading.gif" lazyload alt="遍历列表时key的作用"></p>
<blockquote>
<p>如果不写key的话会自动把index作为key。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;key的原理&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 遍历数组 --&gt;<br>			&lt;h2&gt;人员列表（遍历数组）&lt;/h2&gt;<br>			&lt;button @click.once=&quot;add&quot;&gt;添加一个老刘&lt;/button&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(p,index) of persons&quot; :key=&quot;index&quot;&gt;<br>				&lt;!-- &lt;li v-for=&quot;(p,index) of persons&quot; :key=&quot;p.id&quot;&gt; --&gt;<br>					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;<br>					&lt;input type=&quot;text&quot;&gt;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br><br>		&lt;script type=&quot;text/javascript&quot;&gt;<br>			Vue.config.productionTip = false<br>			<br>			new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;张三&#x27;,age:18&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;李四&#x27;,age:19&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;王五&#x27;,age:20&#125;<br>					]<br>				&#125;,<br>				methods: &#123;<br>					add()&#123;<br>						const p = &#123;id:&#x27;004&#x27;,name:&#x27;老刘&#x27;,age:40&#125;<br>						this.persons.unshift(p)<br>						// this.persons.shift(p) 如果此处是shift的话，往后添加不会造成混乱<br>					&#125;<br>				&#125;,<br>			&#125;)<br>		&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-3-列表过滤"><a href="#12-3-列表过滤" class="headerlink" title="12.3 列表过滤"></a>12.3 列表过滤</h2><p>有两种实现方式，实现姓名过滤：</p>
<p>使用watch：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;<br>	el:&#x27;#root&#x27;,<br>	data:&#123;<br>		keyWord:&#x27;&#x27;,<br>		persons:[<br>			&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,<br>			&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,<br>			&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,<br>			&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;<br>		],<br>		filPerons:[]<br>	&#125;,<br>	watch:&#123;<br>		keyWord:&#123;<br>			immediate:true,<br>			handler(val)&#123;<br>				this.filPerons = this.persons.filter((p)=&gt;&#123;<br>					return p.name.indexOf(val) !== -1<br>				&#125;)<br>			&#125;<br>		&#125;<br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>使用computed：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;<br>	el:&#x27;#root&#x27;,<br>	data:&#123;<br>		keyWord:&#x27;&#x27;,<br>		persons:[<br>			&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,<br>			&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,<br>			&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,<br>			&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;<br>		]<br>	&#125;,<br>	computed:&#123;<br>		filPerons()&#123;<br>			return this.persons.filter((p)=&gt;&#123;<br>				return p.name.indexOf(this.keyWord) !== -1<br>			&#125;)<br>		&#125;<br>	&#125;<br>&#125;) <br></code></pre></td></tr></table></figure>

<p>完整代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;列表过滤&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;人员列表&lt;/h2&gt;<br>			&lt;input type=&quot;text&quot; placeholder=&quot;请输入名字&quot; v-model=&quot;keyWord&quot;&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(p,index) of filPerons&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br><br>		&lt;script type=&quot;text/javascript&quot;&gt;<br>			Vue.config.productionTip = false<br>			<br>			//用watch实现<br>			//#region <br>			/* new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					keyWord:&#x27;&#x27;,<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,<br>						&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;<br>					],<br>					filPerons:[]<br>				&#125;,<br>				watch:&#123;<br>					keyWord:&#123;<br>						immediate:true,<br>						handler(val)&#123;<br>							this.filPerons = this.persons.filter((p)=&gt;&#123;<br>								return p.name.indexOf(val) !== -1<br>							&#125;)<br>						&#125;<br>					&#125;<br>				&#125;<br>			&#125;) */<br>			//#endregion<br>			<br>			//用computed实现<br>			new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					keyWord:&#x27;&#x27;,<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:19,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:20,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:21,sex:&#x27;男&#x27;&#125;,<br>						&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:22,sex:&#x27;男&#x27;&#125;<br>					]<br>				&#125;,<br>				computed:&#123;<br>					filPerons()&#123;<br>						return this.persons.filter((p)=&gt;&#123;<br>							return p.name.indexOf(this.keyWord) !== -1<br>						&#125;)<br>					&#125;<br>				&#125;<br>			&#125;) <br>		&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-4-列表过滤"><a href="#12-4-列表过滤" class="headerlink" title="12.4 列表过滤"></a>12.4 列表过滤</h2><p>需求增加：对所有的名字进行排序，如果已经在进行筛选，需要将筛选过后的人进行排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;列表排序&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;人员列表&lt;/h2&gt;<br>			&lt;input type=&quot;text&quot; placeholder=&quot;请输入名字&quot; v-model=&quot;keyWord&quot;&gt;<br>			&lt;button @click=&quot;sortType = 2&quot;&gt;年龄升序&lt;/button&gt;<br>			&lt;button @click=&quot;sortType = 1&quot;&gt;年龄降序&lt;/button&gt;<br>			&lt;button @click=&quot;sortType = 0&quot;&gt;原顺序&lt;/button&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(p,index) of filPerons&quot; :key=&quot;p.id&quot;&gt;<br>					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;<br>					&lt;input type=&quot;text&quot;&gt;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br><br>		&lt;script type=&quot;text/javascript&quot;&gt;<br>			Vue.config.productionTip = false<br>			<br>			new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					keyWord:&#x27;&#x27;,<br>					sortType:0, //0原顺序 1降序 2升序<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:30,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:31,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:18,sex:&#x27;男&#x27;&#125;,<br>						&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:19,sex:&#x27;男&#x27;&#125;<br>					]<br>				&#125;,<br>				computed:&#123;<br>					filPerons()&#123;<br>						const arr = this.persons.filter((p)=&gt;&#123;<br>							return p.name.indexOf(this.keyWord) !== -1<br>						&#125;)<br>						//判断一下是否需要排序<br>						if(this.sortType)&#123;<br>							arr.sort((p1,p2)=&gt;&#123;<br>								return this.sortType === 1 ? p2.age-p1.age : p1.age-p2.age<br>							&#125;)<br>						&#125;<br>						return arr<br>					&#125;<br>				&#125;<br>			&#125;) <br><br>		&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>每次选择升序或者降序的时候就会修改sortType，就会修改data的值，然后就会重新渲染界面、</p>
</blockquote>
<h2 id="12-5-更新时的一个问题"><a href="#12-5-更新时的一个问题" class="headerlink" title="12.5 更新时的一个问题"></a>12.5 更新时的一个问题</h2><p>在试图把马冬梅的信息修改成马老师的时候遇到问题：</p>
<p>可以观察到第一种方式是奏效的，但是第二种通过对象修改的方式是不奏效的，vue并没有检测到数据变化。</p>
<p>而且在第二种方式下，先点击按钮再打开vue开发者工具，会修改信息；但是调整顺序之后就不会了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;更新时的一个问题&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;人员列表&lt;/h2&gt;<br>			&lt;button @click=&quot;updateMei&quot;&gt;更新马冬梅的信息&lt;/button&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(p,index) of persons&quot; :key=&quot;p.id&quot;&gt;<br>					&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br><br>		&lt;script type=&quot;text/javascript&quot;&gt;<br>			Vue.config.productionTip = false<br>			<br>			const vm = new Vue(&#123;<br>				el:&#x27;#root&#x27;,<br>				data:&#123;<br>					persons:[<br>						&#123;id:&#x27;001&#x27;,name:&#x27;马冬梅&#x27;,age:30,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;002&#x27;,name:&#x27;周冬雨&#x27;,age:31,sex:&#x27;女&#x27;&#125;,<br>						&#123;id:&#x27;003&#x27;,name:&#x27;周杰伦&#x27;,age:18,sex:&#x27;男&#x27;&#125;,<br>						&#123;id:&#x27;004&#x27;,name:&#x27;温兆伦&#x27;,age:19,sex:&#x27;男&#x27;&#125;<br>					]<br>				&#125;,<br>				methods: &#123;<br>					updateMei()&#123;<br>						// this.persons[0].name = &#x27;马老师&#x27; //奏效<br>						// this.persons[0].age = 50 //奏效<br>						// this.persons[0].sex = &#x27;男&#x27; //奏效<br><br>						// this.persons[0] = &#123;id:&#x27;001&#x27;,name:&#x27;马老师&#x27;,age:50,sex:&#x27;男&#x27;&#125; //不奏效 vue没有检测到数据变化<br>						this.persons.splice(0,1,&#123;id:&#x27;001&#x27;,name:&#x27;马老师&#x27;,age:50,sex:&#x27;男&#x27;&#125;)<br>					&#125;<br>				&#125;<br>			&#125;) <br><br>		&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-6-Vue监测数据改变的原理"><a href="#12-6-Vue监测数据改变的原理" class="headerlink" title="12.6 Vue监测数据改变的原理"></a>12.6 Vue监测数据改变的原理</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;Vue监测数据改变的原理&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				address:&#x27;北京&#x27;,<br>				student:&#123;<br>					name:&#x27;tom&#x27;,<br>					age:&#123;<br>						rAge:40,<br>						sAge:29,<br>					&#125;,<br>					friends:[<br>						&#123;name:&#x27;jerry&#x27;,age:35&#125;<br>					]<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-7-模拟一个数据监测"><a href="#12-7-模拟一个数据监测" class="headerlink" title="12.7 模拟一个数据监测"></a>12.7 模拟一个数据监测</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;Document&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;script type=&quot;text/javascript&quot; &gt;<br><br>			let data = &#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				address:&#x27;北京&#x27;,<br>			&#125;<br><br>			//创建一个监视的实例对象，用于监视data中属性的变化<br>			const obs = new Observer(data)		<br>			console.log(obs)	<br><br>			//准备一个vm实例对象<br>			let vm = &#123;&#125;<br>			vm._data = data = obs<br><br>			function Observer(obj)&#123;<br>				//汇总对象中所有的属性形成一个数组<br>				const keys = Object.keys(obj)<br>				//遍历<br>				keys.forEach((k)=&gt;&#123;<br>					Object.defineProperty(this,k,&#123;<br>						get()&#123;<br>							return obj[k]<br>						&#125;,<br>						set(val)&#123;<br>							console.log(`$&#123;k&#125;被改了，我要去解析模板，生成虚拟DOM.....我要开始忙了`)<br>							obj[k] = val<br>						&#125;<br>					&#125;)<br>				&#125;)<br>			&#125;<br>		&lt;/script&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-8-Vue-set的使用"><a href="#12-8-Vue-set的使用" class="headerlink" title="12.8 Vue.set的使用"></a>12.8 Vue.set的使用</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;Vue监测数据改变的原理&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;学校信息&lt;/h1&gt;<br>			&lt;h2&gt;学校名称：&#123;&#123;school.name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;学校地址：&#123;&#123;school.address&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;校长是：&#123;&#123;school.leader&#125;&#125;&lt;/h2&gt;<br>			&lt;hr/&gt;<br>			&lt;h1&gt;学生信息&lt;/h1&gt;<br>			&lt;button @click=&quot;addSex&quot;&gt;添加一个性别属性，默认值是男&lt;/button&gt;<br>			&lt;h2&gt;姓名：&#123;&#123;student.name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2 v-if=&quot;student.sex&quot;&gt;性别：&#123;&#123;student.sex&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;年龄：真实&#123;&#123;student.age.rAge&#125;&#125;，对外&#123;&#123;student.age.sAge&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;朋友们&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(f,index) in student.friends&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				school:&#123;<br>					name:&#x27;尚硅谷&#x27;,<br>					address:&#x27;北京&#x27;,<br>				&#125;,<br>				student:&#123;<br>					name:&#x27;tom&#x27;,<br>					age:&#123;<br>						rAge:40,<br>						sAge:29,<br>					&#125;,<br>					friends:[<br>						&#123;name:&#x27;jerry&#x27;,age:35&#125;,<br>						&#123;name:&#x27;tony&#x27;,age:36&#125;<br>					]<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				addSex()&#123;<br>					// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>					this.$set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-9-vue检测数据改变的原理-数组"><a href="#12-9-vue检测数据改变的原理-数组" class="headerlink" title="12.9 vue检测数据改变的原理-数组"></a>12.9 vue检测数据改变的原理-数组</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;Vue监测数据改变的原理_数组&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;学校信息&lt;/h1&gt;<br>			&lt;h2&gt;学校名称：&#123;&#123;school.name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;学校地址：&#123;&#123;school.address&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;校长是：&#123;&#123;school.leader&#125;&#125;&lt;/h2&gt;<br>			&lt;hr/&gt;<br>			&lt;h1&gt;学生信息&lt;/h1&gt;<br>			&lt;button @click=&quot;addSex&quot;&gt;添加一个性别属性，默认值是男&lt;/button&gt;<br>			&lt;h2&gt;姓名：&#123;&#123;student.name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2 v-if=&quot;student.sex&quot;&gt;性别：&#123;&#123;student.sex&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;年龄：真实&#123;&#123;student.age.rAge&#125;&#125;，对外&#123;&#123;student.age.sAge&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;爱好&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(h,index) in student.hobby&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;h&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>			&lt;h2&gt;朋友们&lt;/h2&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(f,index) in student.friends&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				school:&#123;<br>					name:&#x27;尚硅谷&#x27;,<br>					address:&#x27;北京&#x27;,<br>				&#125;,<br>				student:&#123;<br>					name:&#x27;tom&#x27;,<br>					age:&#123;<br>						rAge:40,<br>						sAge:29,<br>					&#125;,<br>					hobby:[&#x27;抽烟&#x27;,&#x27;喝酒&#x27;,&#x27;烫头&#x27;],<br>					friends:[<br>						&#123;name:&#x27;jerry&#x27;,age:35&#125;,<br>						&#123;name:&#x27;tony&#x27;,age:36&#125;<br>					]<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				addSex()&#123;<br>					// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>					this.$set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="12-10-总结vue数据监测"><a href="#12-10-总结vue数据监测" class="headerlink" title="12.10 总结vue数据监测"></a>12.10 总结vue数据监测</h2><p>Vue监视数据的原理：</p>
<ol>
<li>vue会监视data中所有层次的数据。</li>
<li>如何监测对象中的数据？<br>         通过setter实现监视，且要在new Vue时就传入要监测的数据。<br>             (1).对象中后追加的属性，Vue默认不做响应式处理<br>             (2).如需给后添加的属性做响应式，请使用如下API：<br>                             Vue.set(target，propertyName&#x2F;index，value) 或<br>                             vm.$set(target，propertyName&#x2F;index，value)</li>
<li>如何监测数组中的数据？<br>             通过包裹数组更新元素的方法实现，本质就是做了两件事：<br>                 (1).调用原生对应的方法对数组进行更新。<br>                 (2).重新解析模板，进而更新页面。</li>
<li>在Vue修改数组中的某个元素一定要用如下方法：<br>         1.使用这些API:push()、pop()、shift()、unshift()、splice()、sort()、reverse()<br> 2.Vue.set() 或 vm.$set()</li>
</ol>
<p>特别注意：Vue.set() 和 vm.$set() 不能给vm 或 vm的根数据对象 添加属性！！！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;总结数据监视&lt;/title&gt;<br>		&lt;style&gt;<br>			button&#123;<br>				margin-top: 10px;<br>			&#125;<br>		&lt;/style&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h1&gt;学生信息&lt;/h1&gt;<br>			&lt;button @click=&quot;student.age++&quot;&gt;年龄+1岁&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;addSex&quot;&gt;添加性别属性，默认值：男&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;student.sex = &#x27;未知&#x27; &quot;&gt;修改性别&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;addFriend&quot;&gt;在列表首位添加一个朋友&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;updateFirstFriendName&quot;&gt;修改第一个朋友的名字为：张三&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;addHobby&quot;&gt;添加一个爱好&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;updateHobby&quot;&gt;修改第一个爱好为：开车&lt;/button&gt; &lt;br/&gt;<br>			&lt;button @click=&quot;removeSmoke&quot;&gt;过滤掉爱好中的抽烟&lt;/button&gt; &lt;br/&gt;<br>			&lt;h3&gt;姓名：&#123;&#123;student.name&#125;&#125;&lt;/h3&gt;<br>			&lt;h3&gt;年龄：&#123;&#123;student.age&#125;&#125;&lt;/h3&gt;<br>			&lt;h3 v-if=&quot;student.sex&quot;&gt;性别：&#123;&#123;student.sex&#125;&#125;&lt;/h3&gt;<br>			&lt;h3&gt;爱好：&lt;/h3&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(h,index) in student.hobby&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;h&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>			&lt;h3&gt;朋友们：&lt;/h3&gt;<br>			&lt;ul&gt;<br>				&lt;li v-for=&quot;(f,index) in student.friends&quot; :key=&quot;index&quot;&gt;<br>					&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				student:&#123;<br>					name:&#x27;tom&#x27;,<br>					age:18,<br>					hobby:[&#x27;抽烟&#x27;,&#x27;喝酒&#x27;,&#x27;烫头&#x27;],<br>					friends:[<br>						&#123;name:&#x27;jerry&#x27;,age:35&#125;,<br>						&#123;name:&#x27;tony&#x27;,age:36&#125;<br>					]<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				addSex()&#123;<br>					// Vue.set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>					this.$set(this.student,&#x27;sex&#x27;,&#x27;男&#x27;)<br>				&#125;,<br>				addFriend()&#123;<br>					this.student.friends.unshift(&#123;name:&#x27;jack&#x27;,age:70&#125;)<br>				&#125;,<br>				updateFirstFriendName()&#123;<br>					this.student.friends[0].name = &#x27;张三&#x27;<br>				&#125;,<br>				addHobby()&#123;<br>					this.student.hobby.push(&#x27;学习&#x27;)<br>				&#125;,<br>				updateHobby()&#123;<br>					// this.student.hobby.splice(0,1,&#x27;开车&#x27;)<br>					// Vue.set(this.student.hobby,0,&#x27;开车&#x27;)<br>					this.$set(this.student.hobby,0,&#x27;开车&#x27;)<br>				&#125;,<br>				removeSmoke()&#123;<br>					this.student.hobby = this.student.hobby.filter((h)=&gt;&#123;<br>						return h !== &#x27;抽烟&#x27;<br>					&#125;)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="13-收集表单数据"><a href="#13-收集表单数据" class="headerlink" title="13. 收集表单数据"></a>13. 收集表单数据</h1><p>收集表单数据：</p>
<p>若：<code>&lt;input type=&quot;text&quot;/&gt;</code>，则v-model收集的是value值，用户输入的就是value值。<br>若：<code>&lt;input type=&quot;radio&quot;/&gt;</code>，则v-model收集的是value值，且要给标签配置value值。<br>若：<code>&lt;input type=&quot;checkbox&quot;/&gt;</code></p>
<ol>
<li>没有配置input的value属性，那么收集的就是checked（勾选 or 未勾选，是布尔值）</li>
<li>配置input的value属性:<br>(1) v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）<br>(2) v-model的初始值是数组，那么收集的的就是value组成的数组</li>
</ol>
<p>备注：v-model的三个修饰符：<br>                lazy：失去焦点再收集数据<br>                number：输入字符串转为有效的数字<br>                trim：输入首尾空格过滤</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;收集表单数据&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 阻止默认事件的提交 --&gt;<br>			&lt;form @submit.prevent=&quot;demo&quot;&gt;<br>				&lt;!-- 表单收集 --&gt;<br>				账号：&lt;input type=&quot;text&quot; v-model.trim=&quot;userInfo.account&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>				密码：&lt;input type=&quot;password&quot; v-model=&quot;userInfo.password&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>				年龄：&lt;input type=&quot;number&quot; v-model.number=&quot;userInfo.age&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>				性别：<br>				男&lt;input type=&quot;radio&quot; name=&quot;sex&quot; v-model=&quot;userInfo.sex&quot; value=&quot;male&quot;&gt;<br>				女&lt;input type=&quot;radio&quot; name=&quot;sex&quot; v-model=&quot;userInfo.sex&quot; value=&quot;female&quot;&gt; &lt;br/&gt;&lt;br/&gt;<br>				爱好：<br>				学习&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;study&quot;&gt;<br>				打游戏&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;game&quot;&gt;<br>				吃饭&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;eat&quot;&gt;<br>				&lt;br/&gt;&lt;br/&gt;<br>				所属校区<br>				&lt;select v-model=&quot;userInfo.city&quot;&gt;<br>					&lt;option value=&quot;&quot;&gt;请选择校区&lt;/option&gt;<br>					&lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;<br>					&lt;option value=&quot;shanghai&quot;&gt;上海&lt;/option&gt;<br>					&lt;option value=&quot;shenzhen&quot;&gt;深圳&lt;/option&gt;<br>					&lt;option value=&quot;wuhan&quot;&gt;武汉&lt;/option&gt;<br>				&lt;/select&gt;<br>				&lt;br/&gt;&lt;br/&gt;<br>				其他信息：<br>				&lt;textarea v-model.lazy=&quot;userInfo.other&quot;&gt;&lt;/textarea&gt; &lt;br/&gt;&lt;br/&gt;<br>				&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.agree&quot;&gt;阅读并接受&lt;a href=&quot;http://www.atguigu.com&quot;&gt;《用户协议》&lt;/a&gt;<br>				&lt;button&gt;提交&lt;/button&gt;<br>			&lt;/form&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				userInfo:&#123;<br>					account:&#x27;&#x27;,<br>					password:&#x27;&#x27;,<br>					age:18,<br>					sex:&#x27;female&#x27;,<br>					hobby:[],<br>					city:&#x27;beijing&#x27;,<br>					other:&#x27;&#x27;,<br>					agree:&#x27;&#x27;<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				demo()&#123;<br>					console.log(JSON.stringify(this.userInfo))<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="14-过滤器"><a href="#14-过滤器" class="headerlink" title="14. 过滤器"></a>14. 过滤器</h1><p>定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。<br>语法：</p>
<ol>
<li>注册过滤器：<code>Vue.filter(name,callback)</code> 或 <code>new Vue&#123;filters:&#123;&#125;&#125;</code></li>
<li>使用过滤器：<code>&#123;&#123; xxx | 过滤器名&#125;&#125;</code>  或  <code>v-bind:属性 = &quot;xxx | 过滤器名&quot;</code></li>
</ol>
<p>备注：</p>
<ol>
<li>过滤器也可以接收额外参数，多个过滤器也可以串联</li>
<li>并没有改变原本的数据，是产生新的对应的数据</li>
</ol>
<p>基础过滤器实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;过滤器&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/dayjs.min.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;显示格式化后的时间&lt;/h2&gt;<br>			&lt;!-- 计算属性实现 --&gt;<br>			&lt;h3&gt;现在是：&#123;&#123;fmtTime&#125;&#125;&lt;/h3&gt;<br>			&lt;!-- methods实现 --&gt;<br>			&lt;h3&gt;现在是：&#123;&#123;getFmtTime()&#125;&#125;&lt;/h3&gt;<br>			&lt;!-- 过滤器实现 --&gt;<br>			&lt;h3&gt;现在是：&#123;&#123;time | timeFormater&#125;&#125;&lt;/h3&gt;<br>			&lt;!-- 过滤器实现（传参） --&gt;<br>			&lt;h3&gt;现在是：&#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;)&#125;&#125;&lt;/h3&gt;<br>		&lt;/div&gt;<br><br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br>		<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				time:1621561377603, //时间戳<br>				msg:&#x27;你好，尚硅谷&#x27;<br>			&#125;,<br>			computed: &#123;<br>				fmtTime()&#123;<br>					return dayjs(this.time).format(&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;)<br>				&#125;<br>			&#125;,<br>			methods: &#123;<br>				getFmtTime()&#123;<br>					return dayjs(this.time).format(&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;)<br>				&#125;<br>			&#125;,<br>			//局部过滤器<br>			filters:&#123;<br>				timeFormater(value,str=&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;)&#123;<br>					// console.log(&#x27;@&#x27;,value)<br>					return dayjs(value).format(str)<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>全局过滤器实现  及  默认传参的演示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;过滤器&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/dayjs.min.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;!-- 过滤器实现（传参） --&gt;<br>			&lt;h3&gt;现在是：&#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;) | mySlice&#125;&#125;&lt;/h3&gt;<br>			&lt;h3 :x=&quot;msg | mySlice&quot;&gt;尚硅谷&lt;/h3&gt;<br>		&lt;/div&gt;<br><br>		&lt;div id=&quot;root2&quot;&gt;<br>			&lt;h2&gt;&#123;&#123;msg | mySlice&#125;&#125;&lt;/h2&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		// 全局过滤器<br>		Vue.filter(&#x27;mySlice&#x27;,function(value)&#123;<br>			return value.slice(0,4)<br>		&#125;)<br>		<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				time:1621561377603, //时间戳<br>				msg:&#x27;你好，尚硅谷&#x27;<br>			&#125;,<br>			//局部过滤器<br>			filters:&#123;<br>				timeFormater(value,str=&#x27;YYYY年MM月DD日 HH:mm:ss&#x27;)&#123;<br>					// console.log(&#x27;@&#x27;,value)<br>					return dayjs(value).format(str)<br>				&#125;<br>			&#125;<br>		&#125;)<br><br>		new Vue(&#123;<br>			el:&#x27;#root2&#x27;,<br>			data:&#123;<br>				msg:&#x27;hello,atguigu!&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="15-内置指令"><a href="#15-内置指令" class="headerlink" title="15. 内置指令"></a>15. 内置指令</h1><h2 id="15-1-v-text指令"><a href="#15-1-v-text指令" class="headerlink" title="15.1 v-text指令"></a>15.1 v-text指令</h2><p>v-bind       : 单向绑定解析表达式, 可简写为 :xxx<br>v-model     : 双向数据绑定<br>v-for         : 遍历数组&#x2F;对象&#x2F;字符串<br>v-on          : 绑定事件监听, 可简写为@<br>v-if            : 条件渲染（动态控制节点是否存存在）<br>v-else        : 条件渲染（动态控制节点是否存存在）<br>v-show      :  条件渲染 (动态控制节点是否展示)</p>
<p>v-text指令：</p>
<ol>
<li>作用：向其所在的节点中渲染文本内容。</li>
<li>与插值语法的区别：v-text会替换掉节点中的内容，则不会</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;v-text指令&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br><br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;div&gt;你好，&#123;&#123;name&#125;&#125;&lt;/div&gt;<br>			&lt;div&gt;你好，&#123;&#123;str&#125;&#125;&lt;/div&gt;<br>			&lt;div v-text=&quot;name&quot;&gt;&lt;/div&gt;<br>			&lt;div v-text=&quot;str&quot;&gt;&lt;/div&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				str:&#x27;&lt;h3&gt;你好啊！&lt;/h3&gt;&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>效果图：</p>
<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220321114402.png" srcset="/img/loading.gif" lazyload alt="image-20220321114355360"></p>
</blockquote>
<h2 id="15-2-v-html指令"><a href="#15-2-v-html指令" class="headerlink" title="15.2 v-html指令"></a>15.2 v-html指令</h2><ol>
<li>作用：向指定节点中渲染包含html结构的内容。</li>
<li>与插值语法的区别：<br>  (1). v-html会替换掉节点中所有的内容，则不会。<br>  (2). v-html可以识别html结构。</li>
<li>严重注意：v-html有安全性问题！！！！<br> (1). 在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击。<br> (2). 一定要在可信的内容上使用v-html，永不要用在用户提交的内容上！</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;v-html指令&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;div&gt;你好，&#123;&#123;name&#125;&#125;&lt;/div&gt;<br>			&lt;div&gt;你好，&#123;&#123;str&#125;&#125;&lt;/div&gt;<br>			&lt;div v-html=&quot;str&quot;&gt;&lt;/div&gt;<br>			&lt;div v-html=&quot;str2&quot;&gt;&lt;/div&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				str:&#x27;&lt;h3&gt;你好啊！&lt;/h3&gt;&#x27;,<br>				str2:&#x27;&lt;a href=javascript:location.href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;兄弟我找到你想要的资源了，快来！&lt;/a&gt;&#x27;,<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>效果图：</p>
<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220321114604.png" srcset="/img/loading.gif" lazyload alt="image-20220321114604934"></p>
</blockquote>
<h2 id="15-3-v-cloak指令"><a href="#15-3-v-cloak指令" class="headerlink" title="15.3 v-cloak指令"></a>15.3 v-cloak指令</h2><p>v-cloak 指令（没有值）：</p>
<ol>
<li>本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性。</li>
<li>使用css配合v-cloak可以解决网速慢时页面展示出的问题。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;v-cloak指令&lt;/title&gt;<br>		&lt;style&gt;<br>			/* 通过style样式来控制是否显示文字 */<br>			[v-cloak]&#123;<br>				display:none;<br>			&#125;<br>		&lt;/style&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 v-cloak&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>		&lt;/div&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;http://localhost:8080/resource/5s/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/body&gt;<br>	<br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>打开浏览器之后不会显示任何效果，是因为第九行这里设置了display为none，不显示。</p>
<p>如果设置在五秒之后载入vue资源，则一开始页面上会显示，但是我们不希望用户看到这样的代码，所以通过此指令搭配display来控制用户的视野。</p>
</blockquote>
<h2 id="15-4-v-once指令"><a href="#15-4-v-once指令" class="headerlink" title="15.4 v-once指令"></a>15.4 v-once指令</h2><p>v-once 指令：</p>
<ol>
<li>v-once所在节点在初次动态渲染后，就视为静态内容了。</li>
<li>以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;v-once指令&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 v-once&gt;初始化的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				n:1<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="15-5-v-pre指令"><a href="#15-5-v-pre指令" class="headerlink" title="15.5 v-pre指令"></a>15.5 v-pre指令</h2><p>v-pre 指令：</p>
<ol>
<li>跳过其所在节点的编译过程。</li>
<li>可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;v-pre指令&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 v-pre&gt;Vue其实很简单&lt;/h2&gt;<br>			&lt;h2 &gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				n:1<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="16-自定义指令"><a href="#16-自定义指令" class="headerlink" title="16. 自定义指令"></a>16. 自定义指令</h1><p>自定义指令总结：<br>一、定义语法：<br>    (1).局部指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;											<br>	directives:&#123;指令名:配置对象&#125;<br>&#125;) 														<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">new Vue(&#123;<br>	directives&#123;指令名:回调函数&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>​    (2).全局指令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">Vue.directive(指令名,配置对象) 或   Vue.directive(指令名,回调函数)<br></code></pre></td></tr></table></figure>

<p>二、配置对象中常用的3个回调：<br>    (1).bind：指令与元素成功绑定时调用。<br>    (2).inserted：指令所在元素被插入页面时调用。<br>    (3).update：指令所在模板结构被重新解析时调用。<br>三、备注：<br>    (1).指令定义时不加v-，但使用时要加v-；<br>    (2).指令名如果是多个单词，要使用kebab-case命名方式，不要用camelCase命名。</p>
<hr>
<p>需求1：定义一个v-big指令，和v-text功能类似，但会把绑定的数值放大10倍。</p>
<blockquote>
<p>需求一：函数式</p>
<p>函数式指令不靠返回值，靠的是接收到的参数</p>
<p>接收到的参数：第一个是使用此指令的dom元素，第二个是此指令绑定的绑定对象</p>
<p>big函数何时会被调用？</p>
<ol>
<li><p>指令与元素成功绑定时（一上来）。</p>
</li>
<li><p>指令所在的模板被重新解析时。</p>
</li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;自定义指令&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;<br>			&lt;h2&gt;当前的n值是：&lt;span v-text=&quot;n&quot;&gt;&lt;/span&gt; &lt;/h2&gt;<br>			&lt;h2&gt;放大10倍后的n值是：&lt;span v-big=&quot;n&quot;&gt;&lt;/span&gt; &lt;/h2&gt;<br>			&lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;<br>			&lt;hr/&gt;<br>			&lt;input type=&quot;text&quot; v-fbind:value=&quot;n&quot;&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br>	<br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				n:1<br>			&#125;,<br>			directives:&#123;<br>				big(element,binding)&#123;<br>					console.log(&#x27;big&#x27;,this) //注意此处的this是window<br>					// console.log(&#x27;big&#x27;)<br>					element.innerText = binding.value * 10<br>				&#125;,<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<hr>
<p>需求2：定义一个v-fbind指令，和v-bind功能类似，但可以让其所绑定的input元素默认获取焦点。</p>
<blockquote>
<p>由于大部分情况下，bind和update里面的函数内容都是一样的，所以设置了第一种方式，其实可以看做是对象式的简写。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;自定义指令&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;input type=&quot;text&quot; v-fbind:value=&quot;n&quot;&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br>	<br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				n:1<br>			&#125;,<br>			directives:&#123;<br>				fbind:&#123;<br>					//指令与元素成功绑定时（一上来）<br>					bind(element,binding)&#123;<br>						element.value = binding.value<br>					&#125;,<br>					//指令所在元素被插入页面时<br>					inserted(element,binding)&#123;<br>						element.focus()<br>					&#125;,<br>					//指令所在的模板被重新解析时<br>					update(element,binding)&#123;<br>						element.value = binding.value<br>					&#125;<br>				&#125;<br>			&#125;<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<hr>
<p>定义全局指令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;自定义指令&lt;/title&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;input type=&quot;text&quot; v-fbind:value=&quot;n&quot;&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br>	<br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false<br><br>		//定义全局指令<br>		Vue.directive(&#x27;fbind&#x27;,&#123;<br>			//指令与元素成功绑定时（一上来）<br>			bind(element,binding)&#123;<br>				element.value = binding.value<br>			&#125;,<br>			//指令所在元素被插入页面时<br>			inserted(element,binding)&#123;<br>				element.focus()<br>			&#125;,<br>			//指令所在的模板被重新解析时<br>			update(element,binding)&#123;<br>				element.value = binding.value<br>			&#125;<br>		&#125;)<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				name:&#x27;尚硅谷&#x27;,<br>				n:1<br>			&#125;<br>		&#125;)<br>		<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h1 id="17-生命周期"><a href="#17-生命周期" class="headerlink" title="17. 生命周期"></a>17. 生命周期</h1><h2 id="17-1-引出生命周期"><a href="#17-1-引出生命周期" class="headerlink" title="17.1 引出生命周期"></a>17.1 引出生命周期</h2><p>生命周期：</p>
<ol>
<li>又名：生命周期回调函数、生命周期函数、生命周期钩子。</li>
<li>是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数。</li>
<li>生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。</li>
<li>生命周期函数中的this指向是vm 或 组件实例对象。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;引出生命周期&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 v-if=&quot;a&quot;&gt;你好啊&lt;/h2&gt;<br>			&lt;h2 :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/h2&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		 new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				a:false,<br>				opacity:1<br>			&#125;,<br>			methods: &#123;<br>				<br>			&#125;,<br>			//Vue完成模板的解析并把初始的真实DOM元素放入页面后（挂载完毕）调用mounted<br>			mounted()&#123;<br>				console.log(&#x27;mounted&#x27;,this)<br>				// 使用箭头函数，没有自己的this，向外找，找到了vm。<br>				setInterval(() =&gt; &#123;<br>					this.opacity -= 0.01<br>					if(this.opacity &lt;= 0) this.opacity = 1<br>				&#125;,16)<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>不推荐的写法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;引出生命周期&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 v-if=&quot;a&quot;&gt;你好啊&lt;/h2&gt;<br>			&lt;h2 :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/h2&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br>		<br>		 const vm = new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				a:false,<br>				opacity:1<br>			&#125;<br>		&#125;)<br><br>		//通过外部的定时器实现（不推荐）<br>		setInterval(() =&gt; &#123;<br>			vm.opacity -= 0.01<br>			if(vm.opacity &lt;= 0) vm.opacity = 1<br>		&#125;,16)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>


</blockquote>
<h2 id="17-2-分析生命周期"><a href="#17-2-分析生命周期" class="headerlink" title="17.2 分析生命周期"></a>17.2 分析生命周期</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;分析生命周期&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;!-- 准备好一个容器--&gt;<br>		&lt;div id=&quot;root&quot; :x=&quot;n&quot;&gt;<br>			&lt;h2 v-text=&quot;n&quot;&gt;&lt;/h2&gt;<br>			&lt;h2&gt;当前的n值是：&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			&lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;<br>			&lt;button @click=&quot;bye&quot;&gt;点我销毁vm&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			// template:`<br>			// 	&lt;div&gt;<br>			// 		&lt;h2&gt;当前的n值是：&#123;&#123;n&#125;&#125;&lt;/h2&gt;<br>			// 		&lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;<br>			// 	&lt;/div&gt;<br>			// `,<br>			data:&#123;<br>				n:1<br>			&#125;,<br>			methods: &#123;<br>				add()&#123;<br>					console.log(&#x27;add&#x27;)<br>					this.n++<br>				&#125;,<br>				bye()&#123;<br>					console.log(&#x27;bye&#x27;)<br>					this.$destroy()<br>				&#125;<br>			&#125;,<br>			watch:&#123;<br>				n()&#123;<br>					console.log(&#x27;n变了&#x27;)<br>				&#125;<br>			&#125;,<br>			beforeCreate() &#123;<br>				console.log(&#x27;beforeCreate&#x27;)<br>			&#125;,<br>			created() &#123;<br>				console.log(&#x27;created&#x27;)<br>			&#125;,<br>			beforeMount() &#123;<br>				console.log(&#x27;beforeMount&#x27;)<br>			&#125;,<br>			mounted() &#123;<br>				console.log(&#x27;mounted&#x27;)<br>			&#125;,<br>			beforeUpdate() &#123;<br>				console.log(&#x27;beforeUpdate&#x27;)<br>			&#125;,<br>			updated() &#123;<br>				console.log(&#x27;updated&#x27;)<br>			&#125;,<br>			beforeDestroy() &#123;<br>				console.log(&#x27;beforeDestroy&#x27;)<br>			&#125;,<br>			destroyed() &#123;<br>				console.log(&#x27;destroyed&#x27;)<br>			&#125;,<br>		&#125;)<br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<h2 id="17-3-总结生命周期"><a href="#17-3-总结生命周期" class="headerlink" title="17.3 总结生命周期"></a>17.3 总结生命周期</h2><p>常用的生命周期钩子：</p>
<ol>
<li>mounted: 发送ajax请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】。</li>
<li>beforeDestroy: 清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】。</li>
</ol>
<p>关于销毁vue实例：</p>
<ol>
<li>销毁后借助Vue开发者工具看不到任何信息。</li>
<li>销毁后自定义事件会失效，但原生DOM事件依然有效。</li>
<li>一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;meta charset=&quot;UTF-8&quot; /&gt;<br>		&lt;title&gt;引出生命周期&lt;/title&gt;<br>		&lt;!-- 引入Vue --&gt;<br>		&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;div id=&quot;root&quot;&gt;<br>			&lt;h2 :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/h2&gt;<br>			&lt;button @click=&quot;opacity = 1&quot;&gt;透明度设置为1&lt;/button&gt;<br>			&lt;button @click=&quot;stop&quot;&gt;点我停止变换&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br><br>	&lt;script type=&quot;text/javascript&quot;&gt;<br>		Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。<br><br>		 new Vue(&#123;<br>			el:&#x27;#root&#x27;,<br>			data:&#123;<br>				opacity:1<br>			&#125;,<br>			methods: &#123;<br>				stop()&#123;<br>					this.$destroy()<br>				&#125;<br>			&#125;,<br>			//Vue完成模板的解析并把初始的真实DOM元素放入页面后（挂载完毕）调用mounted<br>			mounted()&#123;<br>				console.log(&#x27;mounted&#x27;,this)<br>				this.timer = setInterval(() =&gt; &#123;<br>					console.log(&#x27;setInterval&#x27;)<br>					this.opacity -= 0.01<br>					if(this.opacity &lt;= 0) this.opacity = 1<br>				&#125;,16)<br>			&#125;,<br>			beforeDestroy() &#123;<br>				clearInterval(this.timer)<br>				console.log(&#x27;vm即将驾鹤西游了&#x27;)<br>			&#125;,<br>		&#125;)<br><br>	&lt;/script&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/li-il/pic_bed/raw/master/img/20220321174942.png" srcset="/img/loading.gif" lazyload alt="生命周期"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/vue/">vue</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/vue/">vue</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/02/vue-5/">
                        <span class="hidden-mobile">vue-5</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
      <div class="col-lg-7 mx-auto nopadding-x-md">
        <div class="container custom mx-auto">
           
        </div>
      </div>
    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div style="font-size: 0.85rem"> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?https://www.baidu.com/";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  




  
<script src="/js/FunnyTitle.js"></script>
<script src="//cdn.jsdelivr.net/gh/bynotes/texiao/source/js/xiaoxuehua.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
